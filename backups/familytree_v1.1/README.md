# 가계도 그리기 데스크톱 애플리케이션

Google Apps Script 웹앱을 기반으로 한 오프라인 Windows 데스크톱 가계도 그리기 프로그램입니다.

## 주요 기능

- ✅ **완전한 오프라인 작동** - 인터넷 연결 없이 사용 가능
- ✅ **11가지 관계 타입 지원** - 배우자, 자녀, 부모, 형제, 다태아 등
- ✅ **직관적인 UI** - 드래그 앤 드롭으로 노드 이동
- ✅ **줌/패닝** - 마우스 휠로 확대/축소, Shift+드래그로 이동
- ✅ **데이터 영구 저장** - SQLite 로컬 데이터베이스
- ✅ **이미지 내보내기** - PNG/JPG 형식 지원
- ✅ **실행 취소** - 최근 20개 작업 취소 가능

## 설치 및 실행

### 필수 요구사항
- Python 3.8 이상
- PyQt6

### 설치 방법

```bash
# 1. 의존성 설치
pip install -r requirements.txt

# 2. 애플리케이션 실행
python main.py
```

## 사용 방법

### 1. 새 가계도 만들기
1. 왼쪽 패널의 "새 가계도 시작" 섹션에서 가계도 이름과 중심인물 정보를 입력
2. "▶ 새로 시작하기" 버튼 클릭
3. "주변인물 추가" 섹션에서 가족 구성원 추가

### 2. 인물 추가
- **기준 인물**: 새로운 인물을 추가할 때 기준이 되는 사람 선택
- **관계 선택**: 배우자, 자녀, 부모, 형제자매, 다태아 등
- **사망 여부**: 체크박스로 표시

### 3. 캔버스 조작
- **드래그**: 노드를 클릭하고 드래그하여 위치 이동
- **패닝**: Shift + 드래그 또는 마우스 중간 버튼으로 캔버스 이동
- **줌**: 마우스 휠로 확대/축소
- **삭제**: 노드 선택 후 Delete 키 (중심인물은 삭제 불가)

### 4. 저장 및 불러오기
- **저장**: 상단의 "💾 저장" 버튼 클릭
- **불러오기**: 왼쪽 패널의 목록에서 선택 후 "📂 불러오기"
- **삭제**: 목록에서 선택 후 "🗑 삭제"

### 5. 이미지 내보내기
- "📷 JPG 저장" 또는 "🖼 PNG 저장" 버튼 클릭
- 저장 위치 선택

## 관계 타입

| 관계 | 설명 | 표시 |
|------|------|------|
| 배우자 (결혼) | 결혼 관계 | 실선 |
| 이혼 | 이혼한 관계 | 사선 2개 |
| 별거 | 별거 중 | 사선 1개 |
| 동거인 | 사실혼 | 점선 |
| 자녀 | 친자녀 | 실선 |
| 입양 자녀 | 입양 자녀 | 점선 |
| 반려동물 | 가족 반려동물 | 마름모 |
| 부모 | 친부모 | 위쪽 배치 |
| 형제/자매 | 형제자매 | 같은 높이 |
| 일란성 다태아 | 일란성 쌍둥이 등 | 수평선 연결 |
| 이란성 다태아 | 이란성 쌍둥이 등 | 그룹 묶음 |

## 노드 모양

- 👨 **남성**: 둥근 모서리 사각형
- 👩 **여성**: 원형
- 🐾 **반려동물**: 마름모
- ❌ **사망**: 대각선 X 표시

## 프로젝트 구조

```
familytree/
├── main.py              # 메인 애플리케이션
├── canvas_widget.py     # 캔버스 위젯
├── person_node.py       # 인물 노드 그래픽
├── database.py          # SQLite 데이터베이스
├── models.py            # 데이터 모델
├── image_export.py      # 이미지 내보내기
├── config.py            # 설정 상수
├── requirements.txt     # 의존성 목록
└── familytree.db        # SQLite 데이터베이스 파일 (자동 생성)
```

## 실행 파일 만들기

PyInstaller를 사용하여 독립 실행 파일을 만들 수 있습니다:

```bash
# PyInstaller 설치
pip install pyinstaller

# 실행 파일 생성
pyinstaller --onefile --windowed --name="가계도그리기" main.py

# 생성된 파일 위치: dist/가계도그리기.exe
```

## 기술 스택

- **Python 3.12**
- **PyQt6** - GUI 프레임워크
- **SQLite** - 로컬 데이터베이스

## 라이선스

이 프로젝트는 Google Antigravity를 활용하여 개발되었습니다.

## 제작

- 웹앱 원본: https://welfareact.net
- 데스크톱 변환: Google Antigravity

---

**오프라인에서도 자유롭게 가계도를 만들어보세요!** 🎉
